<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A Vintage New Year</title>
<style>
    :root {
        --bg-paper: #fdfcf0;
        --bg-aged: #e0d7bc;
        --ink: #3b2f2f;
        --wood: #8b4513;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
        background: linear-gradient(135deg, var(--bg-paper) 0%, var(--bg-aged) 100%);
        font-family: 'Special Elite', cursive;
        color: var(--ink);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
    }

    .container { width: 100%; max-width: 500px; text-align: center; padding: 20px; }

    /* Countdown */
    #countdown-screen { font-size: 8rem; font-weight: bold; }

    /* Penguins */
    #penguin-screen { display: none; }
    .ice-rink { position: relative; height: 150px; width: 100%; display: flex; justify-content: center; align-items: center; margin-bottom: 20px; }
    .penguin { font-size: 5rem; transition: all 1.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); position: absolute; cursor: pointer; }
    .p1 { left: 10%; }
    .p2 { right: 10%; }
    .kiss .p1 { left: 45%; }
    .kiss .p2 { left: 50%; }
    .heart-pop { position: absolute; top: 0; left: 50%; transform: translateX(-50%); font-size: 2rem; opacity: 0; transition: 0.5s; }
    .kiss .heart-pop { opacity: 1; top: -30px; }

    /* Box */
    #box-screen { display: none; perspective: 1000px; }
    .box-wrapper { position: relative; width: 220px; height: 160px; margin: 0 auto; cursor: pointer; }
    .box-lid { width: 100%; height: 40px; background: #5d2e0a; border: 3px solid #3d1e07; border-radius: 10px 10px 0 0; position: absolute; top: 0; z-index: 3; transition: transform 0.8s ease-in-out; transform-origin: top; }
    .box-body { width: 100%; height: 120px; background: var(--wood); border: 3px solid #5d2e0a; border-radius: 0 0 10px 10px; position: absolute; bottom: 0; z-index: 1; box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
    .lock-icon { position: absolute; top: 30px; left: 50%; transform: translateX(-50%); z-index: 4; font-size: 2rem; transition: 0.3s; }

    /* Letter */
    .letter-content {
        position: absolute;
        bottom: 20px;
        left: 10px;
        right: 10px;
        background: #fdf6e3;
        padding: 20px;
        box-shadow: 0 -5px 15px rgba(0,0,0,0.1);
        z-index: 2;
        font-family: 'Playfair Display', serif;
        text-align: left;
        line-height: 1.6;
        border: 1px solid #ddd;
        border-radius: 5px;

        opacity: 0;
        pointer-events: none;
        transform: translateY(50px) scale(0.9);
        transition: transform 1s cubic-bezier(0.4, 0, 0.2, 1), opacity 1s ease;
    }
    .box-open .letter-content {
        opacity: 1;
        pointer-events: auto;
        transform: translateY(0) scale(1);
    }
    .letter-content div {
        max-height: 300px;
        overflow-y: auto;
        padding-right: 5px;
        scroll-behavior: smooth;
    }
    .letter-content div::-webkit-scrollbar {
        width: 6px;
    }
    .letter-content div::-webkit-scrollbar-thumb {
        background-color: rgba(59, 47, 47, 0.5);
        border-radius: 3px;
    }

    /* Open state */
    .box-open .box-lid { transform: rotateX(110deg); }
    .box-open .lock-icon { opacity: 0; }

    .new-year-title { font-family: 'Playfair Display', serif; font-size: 2.5rem; }
</style>
</head>
<body>

<div class="container">
    <div id="countdown-screen">5</div>

    <div id="penguin-screen">
        <div class="ice-rink" id="rink">
            <div class="heart-pop">üíñ</div>
            <div class="penguin p1">üêß</div>
            <div class="penguin p2">üêß</div>
        </div>
        <div class="new-year-title">Happy New Year!</div>
        <p style="margin-top: 20px;">Click the penguins to move...</p>
    </div>

    <div id="box-screen">
        <h2 style="margin-bottom: 40px;">Tap to unlock memories</h2>
        <div class="box-wrapper" id="vintage-box">
            <div class="lock-icon" id="lock-icon">üîí</div>
            <div class="box-lid"></div>

            <div class="letter-content" id="letter-content">
                <div>
                    <h3 style="text-align: center; margin-bottom: 10px;">Hi honey,</h3>
                    <p>Happy New Year to you.<br>I hope this year brings you endless happiness, good health, and everything your heart quietly wishes for. I know the list is pretty big‚Äîand I also know not everything we plan actually happens‚Äîbut I still hope you get what you‚Äôre dreaming of, and maybe even a little more.</p>
                    <p>I hope this year never puts tears in your eyes. Not even once. I just want to see all your dreams come true.</p>
                    <p>I wasn‚Äôt really planning to write anything‚Ä¶ but you know me. That urge in me never listens.<br>And honestly, the best thing that happened to me this year was you. I give you full credit for that. You walked into my life so unexpectedly, and somehow became someone I love this deeply. I never imagined that someday we‚Äôd be this close‚Äîbut here we are.</p>
                    <p>There are so many things I want to tell you. Things I can‚Äôt say out loud. But you know me‚Äîyou know my nature, my silences, my pauses.<br>Meet me soon‚Ä¶ before my fingers or my lips forget how you feel in real life.</p>
                    <p>And as much as I love you‚Äî<br>you also make my blood boil üòí<br>It‚Äôs like you‚Äôre constantly testing my last bit of restraint.</p>
                    <p>I really wish you were here tonight. I would‚Äôve kissed you right when the clock struck twelve‚Äîending my year beautifully and starting a new one even better.</p>
                    <p>I hope next year, too, I get to write you another letter like this.</p>
                    <p style="margin-top: 20px; text-align: right;">With all my love,<br><b>Umme Kulsum</b></p>
                </div>
            </div>

            <div class="box-body"></div>
        </div>
        <p style="margin-top: 30px; opacity: 0.6;">Taps: <span id="tap-count">0</span>/10</p>
    </div>
</div>

<script>
    const screens = {
        count: document.getElementById('countdown-screen'),
        penguin: document.getElementById('penguin-screen'),
        box: document.getElementById('box-screen')
    };

    // Countdown
    let timer = 5;
    const countInt = setInterval(() => {
        timer--;
        if(timer > 0) {
            screens.count.textContent = timer;
        } else {
            clearInterval(countInt);
            screens.count.style.display = 'none';
            screens.penguin.style.display = 'block';
        }
    }, 1000);

    // Penguins
    const rink = document.getElementById('rink');
    rink.onclick = () => {
        rink.classList.add('kiss');
        setTimeout(() => {
            screens.penguin.style.opacity = '0';
            screens.penguin.style.transition = '1s';
            setTimeout(() => {
                screens.penguin.style.display = 'none';
                screens.box.style.display = 'block';
            }, 1000);
        }, 2000);
    };

    // Box
    let taps = 0;
    const boxWrapper = document.getElementById('vintage-box');
    const lockIcon = document.getElementById('lock-icon');
    const tapDisplay = document.getElementById('tap-count');

    boxWrapper.onclick = () => {
        taps++;
        if (taps <= 10) {
            tapDisplay.textContent = taps;
            boxWrapper.style.transform = `translateX(${taps % 2 === 0 ? '5px' : '-5px'})`;
            setTimeout(() => boxWrapper.style.transform = 'translateX(0)', 50);
        }
        if (taps === 5) lockIcon.textContent = "üîì";
        if (taps === 10) boxWrapper.classList.add('box-open');
    };
</script>
</body>
</html>